<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Overview of the sass R package • sass</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Overview of the sass R package">
<meta property="og:description" content="sass">
<meta property="og:image" content="https://rstudio.github.io/sass/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sass</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/sass.html">Overview</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstudio/sass/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="sass_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Overview of the sass R package</h1>
                        <h4 class="author">Carson Sievert</h4>
            
            <h4 class="date">2020-09-18</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/sass/blob/master/vignettes/sass.Rmd"><code>vignettes/sass.Rmd</code></a></small>
      <div class="hidden name"><code>sass.Rmd</code></div>

    </div>

    
    
<style>
pre {
  border: 1px solid #eee;
}

pre.r {
  background-color: #ffffff;
  margin-bottom: -0.5em;
}

pre.r code {
  background-color: #ffffff;
}

pre.css {
  background-color: #f8f8f8;
  border-radius: 0;
  border-bottom-left-radius: 4px;
  border-bottom-right-radius: 4px;
}
</style>
<div id="why" class="section level2">
<h2 class="hasAnchor">
<a href="#why" class="anchor"></a>Why Sass?</h2>
<p><a href="https://sass-lang.com/">Sass</a> is the most widely used, feature rich, and stable CSS extension language available. It has become an essential tool in modern web development because of its ability to <em>reduce complexity</em> and <em>increase composability</em> when styling a website. For a basic example, suppose you want to use the same color for multiple styling rules in your website (e.g., hyperlinks and buttons). With CSS, you’d have to repeat that color every time it is used in styling rule, so in a large project, changing at a later point can be tedious and error-prone.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb1-1"><a href="#cb1-1"></a>a { </span>
<span id="cb1-2"><a href="#cb1-2"></a>  <span class="kw">color</span>: <span class="cn">salmon</span><span class="op">;</span> </span>
<span id="cb1-3"><a href="#cb1-3"></a>}</span>
<span id="cb1-4"><a href="#cb1-4"></a>button {</span>
<span id="cb1-5"><a href="#cb1-5"></a>  <span class="kw">background-color</span>: <span class="cn">salmon</span><span class="op">;</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>}</span></code></pre></div>
<p>With Sass, you could store this color in a Sass variable and use it in the styling rules to produce the same CSS, resulting in a single entry point for the color’s value. This simple Sass tool can make CSS styling a lot easier to reason about, making styles a lot easier to customize and maintain.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb2-1"><a href="#cb2-1"></a>$main-color<span class="in">: salmon</span>;</span>
<span id="cb2-2"><a href="#cb2-2"></a>a { </span>
<span id="cb2-3"><a href="#cb2-3"></a>  <span class="kw">color</span>: $main-color<span class="op">;</span> </span>
<span id="cb2-4"><a href="#cb2-4"></a>}</span>
<span id="cb2-5"><a href="#cb2-5"></a>button {</span>
<span id="cb2-6"><a href="#cb2-6"></a>  <span class="kw">background-color</span>: $main-color<span class="op">;</span></span>
<span id="cb2-7"><a href="#cb2-7"></a>}</span></code></pre></div>
<p>Sass variables are not the only Sass tool useful for reducing complexity. For Sass and <strong>sass</strong> newcomers, this vignette first covers how to use basic Sass tools like <a href="#variables">variables</a>, <a href="#mixins">mixins</a>, and <a href="#functions">functions</a> in the <strong>sass</strong> R package. After the basics, you’ll also learn how to write <a href="#layering">composable <strong>sass</strong></a> that allows users to easily override your styling defaults and developers to <a href="#includes">include</a> your Sass in their styling projects. You’ll also learn how to control the CSS output (e.g., <a href="#compression">compress</a> and <a href="#caching">cache</a> it), and how to use it in <a href="#shiny"><strong>shiny</strong></a> &amp; <a href="#rmarkdown"><strong>rmarkdown</strong></a>.</p>
<p>By mastering these concepts, you’ll not only be able to leverage the advantages of using Sass over CSS, but you’ll also have the basis needed to develop R interfaces to Sass projects that allow users to easily customize your styling templates <em>without any knowledge of Sass/CSS</em>. For an example, see the <a href="https://github.com/rstudio/bootstraplib"><strong>bootstraplib</strong> R package</a>, which provides a interface to <a href="https://getbootstrap.com/docs/4.0/getting-started/theming/">Bootstrap Sass</a> through easy-to-use functions like <code>bs_theme_add_variables()</code>.</p>
</div>
<div id="basics" class="section level2">
<h2 class="hasAnchor">
<a href="#basics" class="anchor"></a>Sass Basics</h2>
<div id="variables" class="section level3">
<h3 class="hasAnchor">
<a href="#variables" class="anchor"></a>Variables</h3>
<p><a href="https://sass-lang.com/guide#topic-2">Sass variables</a> are a great mechanism for simplifying and exposing CSS logic to users. To create a variable, assign a value (likely a CSS <a href="https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/CSS_basics">property value</a>) to a name, then refer to it by name in downstream Sass code. In this minimal example, we create a <code>body-bg</code> variable then use it to generate a single <a href="https://sass-lang.com/documentation/style-rules">style rule</a>, but as we’ll see later, variables can also be used inside of other arbitrary Sass code (e.g., functions, mixins, etc).</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw"><a href="https://github.com/rstudio/sass">sass</a></span>)
<span class="kw">variable</span> <span class="op">&lt;-</span> <span class="st">"$body-bg: red;"</span>
<span class="kw">rule</span> <span class="op">&lt;-</span> <span class="st">"body { background-color: $body-bg; }"</span>
<span class="fu"><a href="../reference/sass.html">sass</a></span>(input = <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">variable</span>, <span class="kw">rule</span>))
</pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb4-1"><a href="#cb4-1"></a>body {</span>
<span id="cb4-2"><a href="#cb4-2"></a>  <span class="kw">background-color</span>: <span class="cn">red</span><span class="op">;</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>}</span></code></pre></div>
<p>A more convenient and readable way to create Sass variables in R is to use a named <code><a href="https://rdrr.io/r/base/list.html">list()</a></code>. Also, it’s a good idea to add the <code>!default</code> flag after the value since it provides users of your Sass an opportunity to set their own value. We’ll learn more about defaults in <a href="#layering">layering</a>, but for now, just note that the <code>!default</code> flag says use this value only if that variable isn’t already defined:</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="kw">user_default</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"body-bg"</span> = <span class="st">"blue !default"</span>)
<span class="kw">default</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"body-bg"</span> = <span class="st">"red !default"</span>)
<span class="fu"><a href="../reference/sass.html">sass</a></span>(input = <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">user_default</span>, <span class="kw">default</span>, <span class="kw">rule</span>))
</pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb6-1"><a href="#cb6-1"></a>body {</span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="kw">background-color</span>: <span class="cn">blue</span><span class="op">;</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>}</span></code></pre></div>
</div>
<div id="functions" class="section level3">
<h3 class="hasAnchor">
<a href="#functions" class="anchor"></a>Functions</h3>
<p>Sass comes with a variety of <a href="https://sass-lang.com/documentation/modules">built-in functions</a> (i.e., you don’t have to <a href="#imports">import</a> anything to start using them) which are useful for working with CSS values (<a href="https://sass-lang.com/documentation/modules/color">colors</a>, <a href="https://sass-lang.com/documentation/modules/math">numbers</a>, <a href="https://sass-lang.com/documentation/modules/string">strings</a>, etc). These built-in functions are primarily useful modifying or combining CSS values in such a way that isn’t possible with CSS. Here we use the <code>rgba()</code> to add alpha blending to <code>black</code> and assign the result to a variable.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="kw">variable</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"body-bg"</span> = <span class="st">"rgba(black, 0.8)"</span>)
<span class="fu"><a href="../reference/sass.html">sass</a></span>(input = <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">variable</span>, <span class="kw">rule</span>))
</pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb8-1"><a href="#cb8-1"></a>body {</span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="kw">background-color</span>: <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>}</span></code></pre></div>
<p>Sass also provides the ability to define your own functions through the <a href="https://sass-lang.com/documentation/at-rules/function"><code>@function</code> at-rule</a>. Like functions in most languages, there are four main components to a function definition: (1) the function <code>name</code>, (2) the function argument/inputs (e.g., <code>arg1</code>, <code>arg2</code>), (3) the function body which contains statements (i.e., <code>statement1</code>, <code>statement2</code>, etc.), and finally (4) a return <code>value</code>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="op">@</span>function <span class="kw">name</span>(arg1, arg2) {</span>
<span id="cb9-2"><a href="#cb9-2"></a>  statement1;</span>
<span id="cb9-3"><a href="#cb9-3"></a>  statement2;</span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="op">@</span>return value;</span>
<span id="cb9-5"><a href="#cb9-5"></a>}</span></code></pre></div>
<p><br></p>
<p>For an example of where creating your function becomes useful, consider this <code>color-contrast()</code> function, inspired by <a href="https://stackoverflow.com/questions/3942878/how-to-decide-font-color-in-white-or-black-depending-on-background-color/3943023#3943023">this SO answer</a> to a common problem that arises when allowing users control over background color of something (e.g., the document body). We’d like to strive for styling rules that are smart enough to overlay white text on a dark colored background and black text on a light colored background. <code>color-contrast()</code> helps us achieve this since, given a dark color, it returns white; and given a light color, it returns black.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="op">@</span>function color<span class="op">-</span><span class="kw">contrast</span>(<span class="op">$</span>color) {</span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="op">@</span>return <span class="cf">if</span>(</span>
<span id="cb10-3"><a href="#cb10-3"></a>    <span class="kw">red</span>(<span class="op">$</span>color) <span class="op">*</span><span class="st"> </span><span class="fl">0.299</span> <span class="op">+</span><span class="st"> </span><span class="kw">green</span>(<span class="op">$</span>color) <span class="op">*</span><span class="st"> </span><span class="fl">0.587</span> <span class="op">+</span><span class="st"> </span><span class="kw">blue</span>(<span class="op">$</span>color) <span class="op">*</span><span class="st"> </span><span class="fl">0.114</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">186</span>,</span>
<span id="cb10-4"><a href="#cb10-4"></a>    black, white</span>
<span id="cb10-5"><a href="#cb10-5"></a>  );</span>
<span id="cb10-6"><a href="#cb10-6"></a>}</span></code></pre></div>
<p><br></p>
<p>By saving this function to a file named <code>color-contrast.scss</code>, it can then be <a href="#imports">imported</a> and used in the following way. For a live example of this in action, consider <a href="https://gallery.shinyapps.io/sass-font/">this Shiny app</a> which allows the user to interactively choose a background color and the title’s font color automatically updates to an appropriate color contrast. <a href="#shiny-dynamic">See here</a> for more on allowing <strong>shiny</strong> users to influence styling on the page using <strong>sass</strong>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit">
<span class="fu"><a href="../reference/sass.html">sass</a></span>(
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
    <span class="kw">variable</span>,
    <span class="fu"><a href="../reference/sass_import.html">sass_file</a></span>(<span class="st">"color-contrast.scss"</span>),
    <span class="st">"body { 
      background-color: $body-bg;
      color: color-contrast($body-bg); 
    }"</span>
  )
)
</pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb12-1"><a href="#cb12-1"></a>body {</span>
<span id="cb12-2"><a href="#cb12-2"></a>  <span class="kw">background-color</span>: <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb12-3"><a href="#cb12-3"></a>  <span class="kw">color</span>: <span class="cn">white</span><span class="op">;</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>}</span></code></pre></div>
<p><strong>NOTE</strong>: <a href="https://getbootstrap.com/docs/4.0/getting-started/theming/">Bootstrap 4 Sass</a> provides it’s own color contrasting function, named <code>color-yiq()</code>, which does essentially the same thing as <code>color-contrast()</code>, and is easy to use via <code>bootstrap_sass()</code> function the <strong>bootstraplib</strong> package (this function automatically imports Bootstrap’s variables, functions, and mixins):</p>
</div>
<div id="imports" class="section level3">
<h3 class="hasAnchor">
<a href="#imports" class="anchor"></a>Importing</h3>
<p>In practice, you’ll want to write your Sass code in <code>.scss</code> (<a href="https://sass-lang.com/documentation/syntax">or <code>.sass</code></a>) files (instead of inside R strings). That way you can leverage things like syntax highlighting in RStudio (or your favorite IDE) and make it easier for others to import your Sass into their workflow. For example, if I have <code>.scss</code> file in my working directory, say <code>my-style.scss</code>, I can compile it this way:</p>
<div class="sourceCode" id="cb13"><pre class="downlit">
<span class="fu"><a href="../reference/sass.html">sass</a></span>(<span class="fu"><a href="../reference/sass_import.html">sass_file</a></span>(<span class="st">"my-style.scss"</span>))
</pre></div>
<p><img src="my-style.png" width="50%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb14-1"><a href="#cb14-1"></a>body {</span>
<span id="cb14-2"><a href="#cb14-2"></a>  <span class="kw">background-color</span>: <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb14-3"><a href="#cb14-3"></a>}</span></code></pre></div>
<p>This works because <code><a href="../reference/sass_import.html">sass_file()</a></code> uses <code><a href="../reference/sass_import.html">sass_import()</a></code> to generate an <code>@import</code> at-rule. If you visit the <a href="https://sass-lang.com/documentation/at-rules/import">docs for <code>@import</code></a>, you’ll notice there’s more you can do that import local <code>.scss</code>, like import local or remote <code>.css</code> files, import font files, and more.</p>
</div>
<div id="mixins" class="section level3">
<h3 class="hasAnchor">
<a href="#mixins" class="anchor"></a>Mixins</h3>
<p>Similar to how functions are useful for encapsulating <em>computation</em> in a reusable unit, <a href="https://sass-lang.com/documentation/at-rules/mixin">mixins</a> are useful for doing the same with <em>styling rules</em> (i.e., packaging them into a reusable unit). Technically speaking, mixins are similar to functions in that they require a <code>name</code>, may have arguments, as well as any number of statements. However, they differ in that they require the return value to be a <a href="https://sass-lang.com/documentation/style-rules">style rule</a>, and when called, need to be <code>@include</code>d in a larger style rule in order to generate any CSS.</p>
<p>For some examples, please see the <a href="https://sass-lang.com/documentation/at-rules/mixin">Sass mixin documentation</a>.</p>
</div>
<div id="more-basics" class="section level3">
<h3 class="hasAnchor">
<a href="#more-basics" class="anchor"></a>More basics</h3>
<p>This vignette intentionally doesn’t try to re-invent the existing and wonderful <a href="https://sass-lang.com/documentation">Sass documentation</a>. There you’ll find many more useful things as you start to write more Sass, such as <a href="https://sass-lang.com/documentation/at-rules/control">control flow</a>, <a href="https://sass-lang.com/documentation/values/lists">lists</a>, <a href="https://sass-lang.com/documentation/values/maps">maps</a>, <a href="https://sass-lang.com/documentation/interpolation">interpolation</a>, and more.</p>
</div>
</div>
<div id="layering" class="section level2">
<h2 class="hasAnchor">
<a href="#layering" class="anchor"></a>Composable sass</h2>
<p>To make Sass code more composable with other Sass code (e.g., allowing others to change your variable defaults or import a function or mixin you’ve defined), consider partitioning your Sass code into a <code><a href="../reference/sass_layer.html">sass::sass_layer()</a></code>. The main idea is to split your Sass into 3 parts: <code>defaults</code> (i.e. variable defaults), <code>declarations</code> (i.e., <a href="#functions">functions</a>, <a href="#mixins">mixins</a>, etc), and <code>rules</code> (i.e., styling rules).</p>
<div class="sourceCode" id="cb15"><pre class="downlit">
<span class="kw">layer1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sass_layer.html">sass_layer</a></span>(
  defaults = <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"body-bg"</span> = <span class="st">"white !default"</span>),
  declarations = <span class="fu"><a href="../reference/sass_import.html">sass_file</a></span>(<span class="st">"color-contrast.scss"</span>),
  rules = <span class="st">"body{background-color: $body-bg; color: color-contrast($body-bg)}"</span>
)
<span class="fu"><a href="../reference/sass.html">sass</a></span>(<span class="kw">layer1</span>)
</pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb16-1"><a href="#cb16-1"></a>body {</span>
<span id="cb16-2"><a href="#cb16-2"></a>  <span class="kw">background-color</span>: <span class="cn">white</span><span class="op">;</span></span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="kw">color</span>: <span class="cn">black</span><span class="op">;</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>}</span></code></pre></div>
<p>This allows downstream <code><a href="../reference/sass_layer.html">sass_layer()</a></code>s to be <code><a href="../reference/sass_layer.html">sass_layer_merge()</a></code>d into a single layer, where those downstream layers are granted higher priority. More specifically, this means:</p>
<ul>
<li>
<code>defaults</code> for <code>layer2</code> are placed <em>before</em> <code>defaults</code> for <code>layer1</code>.
<ul>
<li>Allowing downstream Sass to override variable defaults in upstream Sass.</li>
</ul>
</li>
<li>
<code>declarations</code> for <code>layer2</code> are placed <em>after</em> <code>declarations</code> for <code>layer1</code>.
<ul>
<li>Allowing downstream Sass to use functions and mixins defined in upstream Sass.</li>
</ul>
</li>
<li>
<code>rules</code> for <code>layer2</code> are placed <em>after</em> <code>rules</code> for <code>layer1</code>.
<ul>
<li>Allows downstream rules to take precedence over upstream rules (<a href="https://css-tricks.com/precedence-css-order-css-matters/">precedence</a> matters when there are multiple rules with the same level of <a href="https://css-tricks.com/specifics-on-css-specificity/">specificity</a>).</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="downlit">
<span class="kw">layer2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sass_layer.html">sass_layer</a></span>(
  defaults = <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"body-bg"</span> = <span class="st">"white !default"</span>)
)
<span class="fu"><a href="../reference/sass.html">sass</a></span>(<span class="fu"><a href="../reference/sass_layer.html">sass_layer_merge</a></span>(<span class="kw">layer1</span>, <span class="kw">layer2</span>))
</pre></div>
<div class="sourceCode" id="cb18"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb18-1"><a href="#cb18-1"></a>body {</span>
<span id="cb18-2"><a href="#cb18-2"></a>  <span class="kw">background-color</span>: <span class="cn">white</span><span class="op">;</span></span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="kw">color</span>: <span class="cn">black</span><span class="op">;</span></span>
<span id="cb18-4"><a href="#cb18-4"></a>}</span></code></pre></div>
<div id="imports-relative" class="section level3">
<h3 class="hasAnchor">
<a href="#imports-relative" class="anchor"></a>Resolving relative imports</h3>
<p>Another problem that <code><a href="../reference/sass_layer.html">sass_layer()</a></code> helps solve is that sometimes your Sass code might want to <a href="#imports">import</a> a local file using a relative path that <em>you</em> know how to resolve, but not necessarily the person who eventually compiles your Sass. To solve this issue, provide a named character vector to <code>file_attachments</code>, pointing the relevant relative path(s) to the appropriate absolute path(s). Here’s a contrived example of how that might look (<a href="https://github.com/rstudio/bootstraplib/blob/9c973e9/R/layers.R#L75-L77">here’s</a> a more real example of using it in an R package).</p>
<div class="sourceCode" id="cb19"><pre class="downlit">
<span class="fu"><a href="../reference/sass_layer.html">sass_layer</a></span>(
  declarations = <span class="st">"@import url('fonts/Source_Sans_Pro_300.ttf')"</span>,
  file_attachments = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(
    fonts = <span class="st">'/full/path/to/my/local/fonts'</span>
  )
)
</pre></div>
</div>
<div id="html-dependencies" class="section level3">
<h3 class="hasAnchor">
<a href="#html-dependencies" class="anchor"></a>Attaching HTML dependencies</h3>
<p>Another problem that <code><a href="../reference/sass_layer.html">sass_layer()</a></code> helps solve is that sometimes you want to attach other HTML dependencies to your Sass/CSS (e.g., JavaScript, other CSS, etc). For this reason, <code><a href="../reference/sass_layer.html">sass_layer()</a></code> has a <code>html_deps</code> argument to which you can provide <code><a href="https://rdrr.io/pkg/htmltools/man/htmlDependency.html">htmltools::htmlDependency()</a></code> objects. <code><a href="../reference/sass.html">sass()</a></code> preserves these, as well as any other HTML dependencies attached to it’s input, by including them in the return value. This ensures that, when you include <code><a href="../reference/sass.html">sass()</a></code> in <a href="#rmarkdown"><strong>rmarkdown</strong></a> or <a href="#shiny-string"><strong>shiny</strong></a> those dependencies come along for the ride.</p>
<p><strong>DISCLAIMER</strong>: If you want to use this feature <em>and</em> include <a href="#shiny-file">CSS as a file in shiny</a>, you’ll need to call <code><a href="https://rdrr.io/pkg/htmltools/man/htmlDependencies.html">htmltools::htmlDependencies()</a></code> on the return value of <code><a href="../reference/sass.html">sass()</a></code> to get the dependencies, then include them in your user interface definition.</p>
</div>
</div>
<div id="options" class="section level2">
<h2 class="hasAnchor">
<a href="#options" class="anchor"></a>CSS output options</h2>
<p>The <code><a href="../reference/sass.html">sass()</a></code> function provides a few arguments for controlling the CSS output it generates, including <code>output</code>, <code>options</code>, and <code>cache_options</code>. The following covers some of the most important options available.</p>
<div id="output-file" class="section level3">
<h3 class="hasAnchor">
<a href="#output-file" class="anchor"></a>Output to a file</h3>
<p>If the CSS generated from <code><a href="../reference/sass.html">sass()</a></code> can be useful in more than one place, consider writing it to a file (instead of returning it as a string). To write CSS to a file, give a suitable file path to <code><a href="../reference/sass.html">sass()</a></code>’s <code>output</code> argument.</p>
<div class="sourceCode" id="cb20"><pre class="downlit">
<span class="fu"><a href="../reference/sass.html">sass</a></span>(
  <span class="fu"><a href="../reference/sass_import.html">sass_file</a></span>(<span class="st">"my-style.scss"</span>), 
  output = <span class="st">"my-style.css"</span>
)
</pre></div>
</div>
<div id="compression" class="section level3">
<h3 class="hasAnchor">
<a href="#compression" class="anchor"></a>Compression</h3>
<p>By default, <code><a href="../reference/sass.html">sass()</a></code> outputs <code>'expanded'</code> CSS meaning there are lots of white-space and line-breaks included to make it more readable by humans. Computers don’t need all those unnecessary characters, so to speed up your page load time when you go to include the CSS in <a href="#shiny"><strong>shiny</strong></a> or <a href="#rmarkdown"><strong>rmarkdown</strong></a>, consider removing them altogether with <code>output_style = "compressed"</code>:</p>
<div class="sourceCode" id="cb21"><pre class="downlit">
<span class="fu"><a href="../reference/sass.html">sass</a></span>(
  <span class="fu"><a href="../reference/sass_import.html">sass_file</a></span>(<span class="st">"my-style.scss"</span>),
  options = <span class="fu"><a href="../reference/sass_options.html">sass_options</a></span>(output_style = <span class="st">"compressed"</span>)
)
</pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb22-1"><a href="#cb22-1"></a>body{<span class="kw">background-color</span>:<span class="cn">red</span>}</span></code></pre></div>
</div>
<div id="source-maps" class="section level3">
<h3 class="hasAnchor">
<a href="#source-maps" class="anchor"></a>Source maps</h3>
<p>When compressing the CSS output, it can be useful to include a <a href="https://www.richfinelli.com/what-is-a-css-source-maps/">source map</a> so that it’s easier to inspect the CSS from the website. The easiest way to include a source map is to set <code>source_map_embed = TRUE</code>:</p>
<div class="sourceCode" id="cb23"><pre class="downlit">
<span class="fu"><a href="../reference/sass.html">sass</a></span>(
  <span class="fu"><a href="../reference/sass_import.html">sass_file</a></span>(<span class="st">"my-style.scss"</span>),
  options = <span class="fu"><a href="../reference/sass_options.html">sass_options</a></span>(
    output_style = <span class="st">"compressed"</span>,
    source_map_embed = <span class="fl">TRUE</span>
  )
)
</pre></div>
</div>
<div id="caching" class="section level3">
<h3 class="hasAnchor">
<a href="#caching" class="anchor"></a>Caching</h3>
<p>Sometimes calling <code><a href="../reference/sass.html">sass()</a></code> can be computationally expensive, in which case, it can be useful to leverage its caching capability. Caching is automatically enabled in non-interactive sessions, but you can set the <code>sass.cache</code> option to <code>TRUE</code> to enable it universally, and/or use <code><a href="../reference/sass_cache_options.html">sass_cache_options(cache = TRUE)</a></code> to enable for specific calls to <code><a href="../reference/sass.html">sass()</a></code>. See <code><a href="../reference/sass_cache_options.html">sass_cache_options()</a></code> for more details about how caching works.</p>
<div class="sourceCode" id="cb24"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span>(sass.cache = <span class="fl">TRUE</span>)
<span class="fu"><a href="../reference/sass.html">sass</a></span>(
  <span class="fu"><a href="../reference/sass_import.html">sass_file</a></span>(<span class="st">"my-style.scss"</span>),
  cache_options = <span class="fu"><a href="../reference/sass_cache_options.html">sass_cache_options</a></span>(cache = <span class="fl">TRUE</span>)
)
</pre></div>
</div>
</div>
<div id="shiny" class="section level2">
<h2 class="hasAnchor">
<a href="#shiny" class="anchor"></a>In shiny</h2>
<p>There are two basic approaches to including the CSS that <code><a href="../reference/sass.html">sass()</a></code> returns as HTML in your <strong>shiny</strong> app. If you’re curious, the official <a href="https://shiny.rstudio.com/articles/css.html">shiny article on CSS</a> has more details with a couple different approaches. Regardless of the approach, consider leveraging <a href="#compression">compressing</a> and <a href="#caching">caching</a> the CSS output to make your app faster to load.</p>
<div id="shiny-string" class="section level3">
<h3 class="hasAnchor">
<a href="#shiny-string" class="anchor"></a>As a string</h3>
<p>The character string that <code><a href="../reference/sass.html">sass()</a></code> returns is already marked as <code>HTML()</code><a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>, so to include it in your <strong>shiny</strong> app, wrap it in a <code>&lt;style&gt;</code> tag. It’s not necessary to place this tag in the <code>&lt;head&gt;</code> of the document, but it’s good practice:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="kw">library</span>(shiny)</span>
<span id="cb25-2"><a href="#cb25-2"></a>css &lt;-<span class="st"> </span><span class="kw">sass</span>(<span class="kw">sass_file</span>(<span class="st">"my-style.scss"</span>))</span>
<span id="cb25-3"><a href="#cb25-3"></a><span class="kw">fluidPage</span>(</span>
<span id="cb25-4"><a href="#cb25-4"></a>  tags<span class="op">$</span><span class="kw">head</span>(tags<span class="op">$</span><span class="kw">style</span>(css),</span>
<span id="cb25-5"><a href="#cb25-5"></a>  ...</span>
<span id="cb25-6"><a href="#cb25-6"></a>)</span></code></pre></div>
</div>
<div id="shiny-file" class="section level3">
<h3 class="hasAnchor">
<a href="#shiny-file" class="anchor"></a>As a file</h3>
<p>To write CSS to a file, give a suitable file path to <code><a href="../reference/sass.html">sass()</a></code>’s <code>output</code> argument. Here we write to a specially named <code>www/</code> subdirectory so that <strong>shiny</strong> will automatically make those file(s) available to the web app.</p>
<div class="sourceCode" id="cb26"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw">shiny</span>)
<span class="fu"><a href="../reference/sass.html">sass</a></span>(
  <span class="fu"><a href="../reference/sass_import.html">sass_file</a></span>(<span class="st">"my-style.scss"</span>), 
  output = <span class="st">"www/my-style.css"</span>
)
<span class="fu">fluidPage</span>(
  <span class="kw">tags</span><span class="op">$</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(
    <span class="kw">tags</span><span class="op">$</span><span class="fu">link</span>(href = <span class="st">"my-style.css"</span>, rel = <span class="st">"stylesheet"</span>, type = <span class="st">"text/css"</span>)
  ),
  <span class="kw">...</span>
)
</pre></div>
</div>
<div id="shiny-dynamic" class="section level3">
<h3 class="hasAnchor">
<a href="#shiny-dynamic" class="anchor"></a>As a dynamic input</h3>
<p>Sometimes it’s useful to allow users of your <strong>shiny</strong> app to be able to influence your app’s styling via <strong>shiny</strong> input(s). One way this can be done is via <a href="https://shiny.rstudio.com/articles/dynamic-ui.html">dynamic UI</a>, where you use <code>renderUI()</code>/<code>uiOutput()</code> to dynamically insert <a href="#shiny-string">CSS as an HTML string</a> whenever a relevant input changes. Be aware, however, that whenever you allow dynamic user input to generate <code>HTML()</code>, you’re leaving yourself open to security vulnerabilites; so try to avoid it, and <em>never</em> allow clients to enter free form <code>textInput()</code> without any sort of sanitation of the user input.</p>
<p>Consider this basic example of using a <code>colourInput()</code> widget (from the <strong>colourpicker</strong> package) to choose the body’s background color, which triggers a call to <code><a href="../reference/sass.html">sass()</a></code>:</p>
<div class="sourceCode" id="cb27"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw">shiny</span>)

<span class="kw">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span>(
  <span class="fu">headerPanel</span>(<span class="st">"Sass Color Example"</span>),
  <span class="kw">colourpicker</span>::<span class="fu">colourInput</span>(<span class="st">"color"</span>, <span class="st">"Background Color"</span>, value = <span class="st">"#6498d2"</span>, showColour = <span class="st">"text"</span>),
  <span class="fu">uiOutput</span>(<span class="st">"sass"</span>)
)

<span class="kw">server</span> <span class="op">&lt;-</span> <span class="fu">function</span>(<span class="kw">input</span>, <span class="kw">output</span>) {
  <span class="kw">output</span><span class="op">$</span><span class="kw">sass</span> <span class="op">&lt;-</span> <span class="fu">renderUI</span>({
    <span class="kw">tags</span><span class="op">$</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">tags</span><span class="op">$</span><span class="fu">style</span>(<span class="fu">css</span>()))
  })
  <span class="kw">css</span> <span class="op">&lt;-</span> <span class="fu">reactive</span>({
    <span class="kw">sass</span>::<span class="fu"><a href="../reference/sass.html">sass</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
      <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(color = <span class="kw">input</span><span class="op">$</span><span class="kw">color</span>),
      <span class="st">"body { background-color: $color; }"</span>
    ))
  })
}

<span class="fu">shinyApp</span>(<span class="kw">ui</span>, <span class="kw">server</span>)
</pre></div>
<p><br></p>
<p><img src="https://i.imgur.com/5cUEifg.gif" width="80%" style="display: block; margin: auto;"></p>
<p>Below are a few more sophisticated examples of dynamic input:</p>
<ul>
<li>Font Color
<ul>
<li><a href="https://gallery.shinyapps.io/sass-font" class="uri">https://gallery.shinyapps.io/sass-font</a></li>
<li><code>shiny::runApp(system.file("sass-font", package = "sass"))</code></li>
</ul>
</li>
<li>Sizing
<ul>
<li><a href="https://gallery.shinyapps.io/sass-size" class="uri">https://gallery.shinyapps.io/sass-size</a></li>
<li><code>shiny::runApp(system.file("sass-size", package = "sass"))</code></li>
</ul>
</li>
<li>Themes
<ul>
<li><a href="https://gallery.shinyapps.io/sass-theme" class="uri">https://gallery.shinyapps.io/sass-theme</a></li>
<li><code>shiny::runApp(system.file("sass-theme", package = "sass"))</code></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="rmarkdown" class="section level2">
<h2 class="hasAnchor">
<a href="#rmarkdown" class="anchor"></a>In rmarkdown</h2>
<p><strong>knitr</strong> <a href="https://github.com/yihui/knitr/pull/1666">recently gained</a> a Sass engine powered by the <strong>sass</strong> package. This means you can write Sass code directly into a code <code>sass</code> chunk and the resulting CSS will be included in the resulting document (The <code>echo = FALSE</code> prevents the Sass code from being shown in the resulting document).</p>
<pre><code>```{sass, echo = FALSE}
$body-bg: red;
body{
  background-color: $body-bg;
}
```</code></pre>
<p>If you like to write R <strong>sass</strong> code instead, you can do that as well, and by default it works similarly to the <code>sass</code> engine (except that the sass-specific code chunk options will be ignored, but you can specify those <a href="#options">options</a> via <code><a href="../reference/sass.html">sass::sass()</a></code> instead).</p>
<pre><code>```{r, echo = FALSE}
sass(sass_file("my-style.scss"))
```</code></pre>
<p>If syntax highlighting is enabled in your output document , it’s also possible to display the generated CSS (instead of embedding it as HTML) with syntax highlighting by setting the code chunk options <code>class.output='css'</code> and <code>comment=''</code>. Unfortunately, for some output formats, like <code><a href="https://rdrr.io/pkg/rmarkdown/man/html_vignette.html">rmarkdown::html_vignette()</a></code>, syntax hightlighting isn’t supported, but for output formats like <code><a href="https://rdrr.io/pkg/rmarkdown/man/html_document.html">rmarkdown::html_document()</a></code>, you can enable syntax highlighting by setting the <code>highlight</code> parameter to a non-default value (e.g., <code>tango</code>).</p>
<pre><code>```{r, class.output='css', comment=''}
sass(sass_file("my-style.scss"))
```</code></pre>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>Oh, by the way, the value of a variable may be an expression.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Including <a href="#shiny-dynamic">dynamic user input</a> directly as <code>HTML()</code>, especially with free form inputs like <code>textInput()</code>, is a security vulnerability. Avoid it if you can.<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Joe Cheng, Timothy Mastny, Richard Iannone, Barret Schloerke, Carson Sievert,  RStudio.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'b7f32716c953bf205e00b89772b35d36',
    indexName: 'rstudio_sass',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
