<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create a file cache object — FileCache • sass</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Create a file cache object — FileCache"><meta property="og:description" content="Create a file cache object
Create a file cache object"><meta property="og:image" content="https://rstudio.github.io/sass/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sass</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/sass.html">Overview</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rstudio/sass/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>

    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a file cache object</h1>
    <small class="dont-index">Source: <a href="https://github.com/rstudio/sass/blob/main/R/file_cache.R" class="external-link"><code>R/file_cache.R</code></a></small>
    <div class="hidden name"><code>FileCache.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create a file cache object</p>
<p>Create a file cache object</p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>A file cache object is a key-file store that saves the values as files in a
directory on disk. The objects are files on disk. They are stored and
retrieved using the <code>get_file()</code>, <code>get_content()</code>, <code>set_file()</code>, and
<code>set_content()</code> methods. Objects are automatically pruned from the cache
according to the parameters <code>max_size</code>, <code>max_age</code>, <code>max_n</code>, and <code>evict</code>.</p>
    </div>
    <div id="cache-pruning">
    <h2>Cache pruning</h2>



<p>Cache pruning occurs when <code>set_file()</code> or <code>set_content()</code> is called, or it
can be invoked manually by calling <code>prune()</code>.</p>
<p>The disk cache will throttle the pruning so that it does not happen on
every call to <code>set_file()</code> or <code>set_content()</code>, because the filesystem
operations for checking the status of files can be slow. Instead, it will
prune once in every 20 calls to <code>set_file()</code> or <code>set_content()</code>, or if at
least 5 seconds have elapsed since the last prune occurred, whichever is
first. These parameters are currently not customizable, but may be in the
future.</p>
<p>When a pruning occurs, if there are any objects that are older than
<code>max_age</code>, they will be removed.</p>
<p>The <code>max_size</code> and <code>max_n</code> parameters are applied to the cache as a whole,
in contrast to <code>max_age</code>, which is applied to each object individually.</p>
<p>If the number of objects in the cache exceeds <code>max_n</code>, then objects will be
removed from the cache according to the eviction policy, which is set with
the <code>evict</code> parameter. Objects will be removed so that the number of items
is <code>max_n</code>.</p>
<p>If the size of the objects in the cache exceeds <code>max_size</code>, then objects
will be removed from the cache. Objects will be removed from the cache so
that the total size remains under <code>max_size</code>. Note that the size is
calculated using the size of the files, not the size of disk space used by
the files — these two values can differ because of files are stored in
blocks on disk. For example, if the block size is 4096 bytes, then a file
that is one byte in size will take 4096 bytes on disk.</p>
<p>Another time that objects can be removed from the cache is when
<code>get_file()</code> or <code>get_content()</code> is called. If the target object is older
than <code>max_age</code>, it will be removed and the cache will report it as a
missing value.</p>
    </div>
    <div id="eviction-policies">
    <h2>Eviction policies</h2>



<p>If <code>max_n</code> or <code>max_size</code> are used, then objects will be removed from the
cache according to an eviction policy. The available eviction policies are:</p>
<dl><dt><code>"lru"</code></dt>
<dd><p>Least Recently Used. The least recently used
objects will be removed. This uses the filesystem's mtime property. When
"lru" is used, each time <code>get_file()</code> or <code>get_content()</code> is called, it will
update the file's mtime.</p></dd>
 <dt><code>"fifo"</code></dt>
<dd><p>First-in-first-out. The oldest
objects will be removed.</p></dd>

</dl><p>Both of these policies use files' mtime. Note that some filesystems
(notably FAT) have poor mtime resolution. (atime is not used because
support for atime is worse than mtime.)</p>
    </div>
    <div id="sharing-among-multiple-processes">
    <h2>Sharing among multiple processes</h2>



<p>The directory for a FileCache can be shared among multiple R processes. To
do this, each R process should have a FileCache object that uses the same
directory. Each FileCache will do pruning independently of the others, so
if they have different pruning parameters, then one FileCache may remove
cached objects before another FileCache would do so.</p>
<p>Even though it is possible for multiple processes to share a FileCache
directory, this should not be done on networked file systems, because of
slow performance of networked file systems can cause problems. If you need
a high-performance shared cache, you can use one built on a database like
Redis, SQLite, mySQL, or similar.</p>
<p>When multiple processes share a cache directory, there are some potential
race conditions. For example, if your code calls <code>exists(key)</code> to check if
an object is in the cache, and then call <code>get_file(key)</code>, the object may be
removed from the cache in between those two calls, and <code>get_file(key)</code> will
throw an error. Instead of calling the two functions, it is better to
simply call <code>get_file(key)</code>, and use <code><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch()</a></code> to handle the error that
is thrown if the object is not in the cache. This effectively tests for
existence and gets the object in one operation.</p>
<p>It is also possible for one processes to prune objects at the same time
that another processes is trying to prune objects. If this happens, you may
see a warning from <code><a href="https://rdrr.io/r/base/files.html" class="external-link">file.remove()</a></code> failing to remove a file that has
already been deleted.</p>
    </div>
    <div id="methods">
    <h2>Methods</h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-FileCache-new"><code>FileCache$new()</code></a></p></li>
<li><p><a href="#method-FileCache-get_file"><code>FileCache$get_file()</code></a></p></li>
<li><p><a href="#method-FileCache-get_content"><code>FileCache$get_content()</code></a></p></li>
<li><p><a href="#method-FileCache-set_file"><code>FileCache$set_file()</code></a></p></li>
<li><p><a href="#method-FileCache-set_content"><code>FileCache$set_content()</code></a></p></li>
<li><p><a href="#method-FileCache-exists"><code>FileCache$exists()</code></a></p></li>
<li><p><a href="#method-FileCache-keys"><code>FileCache$keys()</code></a></p></li>
<li><p><a href="#method-FileCache-remove"><code>FileCache$remove()</code></a></p></li>
<li><p><a href="#method-FileCache-reset"><code>FileCache$reset()</code></a></p></li>
<li><p><a href="#method-FileCache-dir"><code>FileCache$dir()</code></a></p></li>
<li><p><a href="#method-FileCache-prune"><code>FileCache$prune()</code></a></p></li>
<li><p><a href="#method-FileCache-size"><code>FileCache$size()</code></a></p></li>
<li><p><a href="#method-FileCache-destroy"><code>FileCache$destroy()</code></a></p></li>
<li><p><a href="#method-FileCache-is_destroyed"><code>FileCache$is_destroyed()</code></a></p></li>
<li><p><a href="#method-FileCache-clone"><code>FileCache$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-FileCache-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Create a FileCache object.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/FileCache.html">FileCache</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  dir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max_size <span class="op">=</span> <span class="fl">40</span> <span class="op">*</span> <span class="fl">1024</span><span class="op">^</span><span class="fl">2</span>,</span>
<span>  max_age <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  max_n <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  evict <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lru"</span>, <span class="st">"fifo"</span><span class="op">)</span>,</span>
<span>  destroy_on_finalize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  logfile <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>dir</code></dt>
<dd><p>Directory to store files for the cache. If <code>NULL</code> (the default) it
will create and use a temporary directory.</p></dd>


<dt><code>max_size</code></dt>
<dd><p>Maximum size of the cache, in bytes. If the cache exceeds
this size, cached objects will be removed according to the value of the
<code>evict</code>. Use <code>Inf</code> for no size limit.</p></dd>


<dt><code>max_age</code></dt>
<dd><p>Maximum age of files in cache before they are evicted, in
seconds. Use <code>Inf</code> for no age limit.</p></dd>


<dt><code>max_n</code></dt>
<dd><p>Maximum number of objects in the cache. If the number of objects
exceeds this value, then cached objects will be removed according to the
value of <code>evict</code>. Use <code>Inf</code> for no limit of number of items.</p></dd>


<dt><code>evict</code></dt>
<dd><p>The eviction policy to use to decide which objects are removed
when a cache pruning occurs. Currently, <code>"lru"</code> and <code>"fifo"</code> are supported.</p></dd>


<dt><code>destroy_on_finalize</code></dt>
<dd><p>If <code>TRUE</code>, then when the FileCache object is
garbage collected, the cache directory and all objects inside of it will be
deleted from disk. If <code>FALSE</code> (the default), it will do nothing when
finalized.</p></dd>


<dt><code>logfile</code></dt>
<dd><p>An optional filename or connection object to where logging
information will be written. To log to the console, use <code><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">stdout()</a></code>.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-FileCache-get_file"></a><div class="section">
<h3 id="method-get-file-">Method <code>get_file()</code><a class="anchor" aria-label="anchor" href="#method-get-file-"></a></h3>
<p>Get the content associated with <code>key</code>, and save in a file
named <code>outfile</code>.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FileCache</span><span class="op">$</span><span class="fu">get_file</span><span class="op">(</span><span class="va">key</span>, <span class="va">outfile</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>key</code></dt>
<dd><p>Key. Must be lowercase numbers and letters.</p></dd>


<dt><code>outfile</code></dt>
<dd><p>Name of output file. If <code>NULL</code>, return the content as</p></dd>


<dt><code>overwrite</code></dt>
<dd><p>If the output file already exists, should it be
overwritten?</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p><code>TRUE</code> if the object is found in the cache and copying succeeds,
<code>FALSE</code> otherwise.</p>
</div>

</div><p></p><hr><a id="method-FileCache-get_content"></a><div class="section">
<h3 id="method-get-content-">Method <code>get_content()</code><a class="anchor" aria-label="anchor" href="#method-get-content-"></a></h3>
<p>Get the content associated with <code>key</code>, and return as either
string or a raw vector.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FileCache</span><span class="op">$</span><span class="fu">get_content</span><span class="op">(</span><span class="va">key</span>, mode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"text"</span>, <span class="st">"raw"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>key</code></dt>
<dd><p>Key. Must be lowercase numbers and letters.</p></dd>


<dt><code>mode</code></dt>
<dd><p>If <code>"text"</code>, return the content as a UTF-8-encoded text
string (a one element char vector). If <code>"raw"</code>, return the content as a
raw vector.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>A character or raw vector if the object is found in the cache,
<code>NULL</code> otherwise.</p>
</div>

</div><p></p><hr><a id="method-FileCache-set_file"></a><div class="section">
<h3 id="method-set-file-">Method <code>set_file()</code><a class="anchor" aria-label="anchor" href="#method-set-file-"></a></h3>
<p>Sets content associated with <code>key</code>, from a file named
<code>infile</code>.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FileCache</span><span class="op">$</span><span class="fu">set_file</span><span class="op">(</span><span class="va">key</span>, <span class="va">infile</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>key</code></dt>
<dd><p>Key. Must be lowercase numbers and letters.</p></dd>


<dt><code>infile</code></dt>
<dd><p>Name of input file.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p><code>TRUE</code> if copying the file into the cache succeeds, <code>FALSE</code>
otherwise.</p>
</div>

</div><p></p><hr><a id="method-FileCache-set_content"></a><div class="section">
<h3 id="method-set-content-">Method <code>set_content()</code><a class="anchor" aria-label="anchor" href="#method-set-content-"></a></h3>
<p>Sets content associated with <code>key</code>, from a single-element
vector.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FileCache</span><span class="op">$</span><span class="fu">set_content</span><span class="op">(</span><span class="va">key</span>, <span class="va">content</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>key</code></dt>
<dd><p>Key. Must be lowercase numbers and letters.</p></dd>


<dt><code>content</code></dt>
<dd><p>A character or raw vector. If it is a character vector,
it will be written with UTF-8 encoding, with with elements collapsed
with <code>\\n</code> (consistent across platforms).</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p><code>TRUE</code> if setting the content in the cache succeeds, <code>FALSE</code>
otherwise.</p>
</div>

</div><p></p><hr><a id="method-FileCache-exists"></a><div class="section">
<h3 id="method-exists-">Method <code><a href="https://rdrr.io/r/base/exists.html" class="external-link">exists()</a></code><a class="anchor" aria-label="anchor" href="#method-exists-"></a></h3>
<p>Check if content associated with <code>key</code> exists in cache</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FileCache</span><span class="op">$</span><span class="fu">exists</span><span class="op">(</span><span class="va">key</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>key</code></dt>
<dd><p>Key. Must be lowercase numbers and letters.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p><code>TRUE</code> if the object is in the cache, <code>FALSE</code> otherwise.</p>
</div>

</div><p></p><hr><a id="method-FileCache-keys"></a><div class="section">
<h3 id="method-keys-">Method <code>keys()</code><a class="anchor" aria-label="anchor" href="#method-keys-"></a></h3>
<p>Get all keys</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FileCache</span><span class="op">$</span><span class="fu">keys</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>A character vector of all keys currently in the cache.</p>
</div>

</div><p></p><hr><a id="method-FileCache-remove"></a><div class="section">
<h3 id="method-remove-">Method <code><a href="https://rdrr.io/r/base/rm.html" class="external-link">remove()</a></code><a class="anchor" aria-label="anchor" href="#method-remove-"></a></h3>
<p>Remove an object</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FileCache</span><span class="op">$</span><span class="fu">remove</span><span class="op">(</span><span class="va">key</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>key</code></dt>
<dd><p>Key. Must be lowercase numbers and letters.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p><code>TRUE</code> if the object was found and successfully removed, <code>FALSE</code>
otherwise.</p>
</div>

</div><p></p><hr><a id="method-FileCache-reset"></a><div class="section">
<h3 id="method-reset-">Method <code>reset()</code><a class="anchor" aria-label="anchor" href="#method-reset-"></a></h3>
<p>Clear all objects from the cache.</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FileCache</span><span class="op">$</span><span class="fu">reset</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-FileCache-dir"></a><div class="section">
<h3 id="method-dir-">Method <code><a href="https://rdrr.io/r/base/list.files.html" class="external-link">dir()</a></code><a class="anchor" aria-label="anchor" href="#method-dir-"></a></h3>
<p>Returns the directory used for the cache.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FileCache</span><span class="op">$</span><span class="fu">dir</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-FileCache-prune"></a><div class="section">
<h3 id="method-prune-">Method <code>prune()</code><a class="anchor" aria-label="anchor" href="#method-prune-"></a></h3>
<p>Prune the cache, using the parameters specified by
<code>max_size</code>,   <code>max_age</code>, <code>max_n</code>, and <code>evict</code>.</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FileCache</span><span class="op">$</span><span class="fu">prune</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-FileCache-size"></a><div class="section">
<h3 id="method-size-">Method <code>size()</code><a class="anchor" aria-label="anchor" href="#method-size-"></a></h3>
<p>Return the number of items currently in the cache.</p><div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FileCache</span><span class="op">$</span><span class="fu">size</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-FileCache-destroy"></a><div class="section">
<h3 id="method-destroy-">Method <code>destroy()</code><a class="anchor" aria-label="anchor" href="#method-destroy-"></a></h3>
<p>Clears all objects in the cache, and removes the cache
directory from disk.</p><div class="section">
<h4 id="usage-12">Usage<a class="anchor" aria-label="anchor" href="#usage-12"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FileCache</span><span class="op">$</span><span class="fu">destroy</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-FileCache-is_destroyed"></a><div class="section">
<h3 id="method-is-destroyed-">Method <code>is_destroyed()</code><a class="anchor" aria-label="anchor" href="#method-is-destroyed-"></a></h3>
<p>Reports whether the cache has been destroyed.</p><div class="section">
<h4 id="usage-13">Usage<a class="anchor" aria-label="anchor" href="#usage-13"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FileCache</span><span class="op">$</span><span class="fu">is_destroyed</span><span class="op">(</span>throw <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>throw</code></dt>
<dd><p>Should this function throw an error if the cache has been
destroyed?</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-FileCache-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-14">Usage<a class="anchor" aria-label="anchor" href="#usage-14"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FileCache</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Joe Cheng, Timothy Mastny, Richard Iannone, Barret Schloerke, Carson Sievert, RStudio.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({


    apiKey: 'b7f32716c953bf205e00b89772b35d36',
    indexName: 'rstudio_sass',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

